var _0x47f8c3=_0x108b;(function(_0x5dface,_0x5af15e){var _0x2611c2=_0x108b,_0xf91c6b=_0x5dface();while(!![]){try{var _0x283148=-parseInt(_0x2611c2(0x114))/0x1*(-parseInt(_0x2611c2(0x12b))/0x2)+parseInt(_0x2611c2(0x122))/0x3+-parseInt(_0x2611c2(0x12e))/0x4*(parseInt(_0x2611c2(0x109))/0x5)+parseInt(_0x2611c2(0x126))/0x6+-parseInt(_0x2611c2(0xef))/0x7+parseInt(_0x2611c2(0x100))/0x8*(parseInt(_0x2611c2(0xf8))/0x9)+parseInt(_0x2611c2(0xff))/0xa;if(_0x283148===_0x5af15e)break;else _0xf91c6b['push'](_0xf91c6b['shift']());}catch(_0x53c94d){_0xf91c6b['push'](_0xf91c6b['shift']());}}}(_0x326c,0x228c7));var i=0x0,EidProfile='',dateString='',sResultLogin=_0x47f8c3(0xf1);function _0x108b(_0x42f660,_0x558728){var _0x326c9d=_0x326c();return _0x108b=function(_0x108b0b,_0x43881c){_0x108b0b=_0x108b0b-0xeb;var _0x13b5f4=_0x326c9d[_0x108b0b];return _0x13b5f4;},_0x108b(_0x42f660,_0x558728);}$(document)[_0x47f8c3(0xf5)](function(){main();});async function main(){var _0x17e04f=_0x47f8c3;await liff[_0x17e04f(0x131)]({'liffId':_0x17e04f(0x111)}),document[_0x17e04f(0x130)](_0x17e04f(0xf2))[_0x17e04f(0xfd)](liff[_0x17e04f(0xf2)]()),liff[_0x17e04f(0xf2)]()?getUserProfile():liff[_0x17e04f(0x11c)]();}async function getUserProfile(){var _0x55c919=_0x47f8c3,_0x379d0d='';const _0x9e4b63=await liff['getProfile']();sessionStorage[_0x55c919(0x12a)](_0x55c919(0xfc),_0x9e4b63['userId']),sessionStorage['setItem'](_0x55c919(0x110),_0x9e4b63[_0x55c919(0x133)]),sessionStorage['setItem'](_0x55c919(0x121),_0x9e4b63[_0x55c919(0x103)]),_0x379d0d+=_0x55c919(0xed)+sessionStorage[_0x55c919(0x132)](_0x55c919(0x121))+_0x55c919(0xfe),_0x379d0d+=_0x55c919(0x125)+sessionStorage[_0x55c919(0x132)]('LineName')+_0x55c919(0x117),$(_0x55c919(0x123))[_0x55c919(0x11e)](_0x379d0d),Connect_DB();}function openWindow(){var _0x2243d2=_0x47f8c3;liff[_0x2243d2(0x11d)]({'url':'https://line.me','external':!![]});}function _0x326c(){var _0x4fc19b=['firestore','getMonth','EmpName_Kickoff','<div><img\x20src=\x22','EmpID_Kickoff','1846215OoKIdK','BBD_LeagueMember','ไม่สำเร็จ','isLoggedIn','forEach','empID','ready','now','AIzaSyDfTJJ425U4OY0xac6jdhtSxDeuJ-OF-lE','413577gQVckY','G-9SKTRHHSW9','lineID','Championship_Zone','LineID','append','\x22\x20class=\x22add-profile\x22\x20width=\x22100px\x22></div>','668180XLMfcm','16iJRlVZ','then','round','pictureUrl','CheckProfile','653667385625','display','none','collection','785xRRMqr','update','retailproject-6f4fc','retailproject-6f4fc.firebaseapp.com','id01','length','สำเร็จ','LineName','1657509542-pqGkM6l2','Championship_RH','EmpID','88743ETRdXz','where','block','</div>','getDate','data','getFullYear','loading','login','openWindow','html','href','CountIN','LinePicture','127254rKFexE','#MyProfile','doc','<div\x20class=\x22NameLine\x22>','1671906bavmdU','OldSurvey','getMinutes','get','setItem','2FQaTkk','empName','style','4160ETUbIi','limit','getElementById','init','getItem','displayName'];_0x326c=function(){return _0x4fc19b;};return _0x326c();}function Connect_DB(){var _0x50eda6=_0x47f8c3,_0x543435={'apiKey':_0x50eda6(0xf7),'authDomain':_0x50eda6(0x10c),'projectId':_0x50eda6(0x10b),'storageBucket':'retailproject-6f4fc.appspot.com','messagingSenderId':_0x50eda6(0x105),'appId':'1:653667385625:web:a5aed08500de80839f0588','measurementId':_0x50eda6(0xf9)};firebase['initializeApp'](_0x543435),dbProfile=firebase[_0x50eda6(0x134)]()[_0x50eda6(0x108)](_0x50eda6(0x104)),dbLeagueMember=firebase[_0x50eda6(0x134)]()[_0x50eda6(0x108)](_0x50eda6(0xf0)),dbBBDKickoff=firebase[_0x50eda6(0x134)]()['collection'](_0x50eda6(0xfb)),dbBBDRH=firebase['firestore']()['collection'](_0x50eda6(0x112)),dbBBDlog=firebase[_0x50eda6(0x134)]()[_0x50eda6(0x108)]('BBD_Log'),CheckData();}var CheckFoundData=0x0;function CheckData(){var _0x3d5a79=_0x47f8c3;dbProfile[_0x3d5a79(0x115)](_0x3d5a79(0xfa),'==',sessionStorage['getItem']('LineID'))[_0x3d5a79(0x129)]()[_0x3d5a79(0x101)](_0x483846=>{_0x483846['forEach'](_0x3298af=>{var _0x13a559=_0x108b;CheckFoundData=0x1,_0x3298af['data']()['statusconfirm']==0x1?(EidProfile=_0x3298af['id'],sessionStorage[_0x13a559(0x12a)](_0x13a559(0xee),_0x3298af[_0x13a559(0x119)]()[_0x13a559(0xf4)]),sessionStorage[_0x13a559(0x12a)]('EmpName_Kickoff',_0x3298af['data']()[_0x13a559(0x12c)]),CheckMember()):location[_0x13a559(0x11f)]='https://liff.line.me/1655966947-KxrAqdyp';}),CheckFoundData==0x0&&(location['href']='https://liff.line.me/1655966947-KxrAqdyp');});}var EidUpdateLogin='',CountLogin=0x0,CheckFound=0x0;function CheckMember(){var _0x5ad72a=_0x47f8c3;dbLeagueMember[_0x5ad72a(0x115)](_0x5ad72a(0x113),'==',parseFloat(sessionStorage[_0x5ad72a(0x132)](_0x5ad72a(0xee))))[_0x5ad72a(0x12f)](0x1)[_0x5ad72a(0x129)]()[_0x5ad72a(0x101)](_0x213b27=>{var _0x5e21e3=_0x5ad72a;_0x213b27['forEach'](_0x58fc79=>{var _0x3c80d2=_0x108b;CheckFound=0x1,EidUpdateLogin=_0x58fc79['id'],CountLogin=_0x58fc79[_0x3c80d2(0x119)]()[_0x3c80d2(0x120)],sResultLogin=_0x3c80d2(0x10f),UpdateLogin(),UpdateBBDLog(),document[_0x3c80d2(0x130)](_0x3c80d2(0x11b))['style'][_0x3c80d2(0x106)]=_0x3c80d2(0x107),document[_0x3c80d2(0x130)](_0x3c80d2(0x127))[_0x3c80d2(0x12d)][_0x3c80d2(0x106)]=_0x3c80d2(0x116);}),CheckFound==0x0&&(UpdateBBDLog(),document[_0x5e21e3(0x130)](_0x5e21e3(0x11b))[_0x5e21e3(0x12d)]['display']=_0x5e21e3(0x107),document[_0x5e21e3(0x130)]('NoService')[_0x5e21e3(0x12d)]['display']=_0x5e21e3(0x116));});}function UpdateLogin(){var _0x5d3112=_0x47f8c3;NewDate();var _0x2ea5ae=Math[_0x5d3112(0x102)](Date[_0x5d3112(0xf6)]()/0x3e8);dbLeagueMember[_0x5d3112(0x124)](EidUpdateLogin)['update']({'LogDateTime':dateString,'LogTimeStamp':_0x2ea5ae,'LineName':sessionStorage[_0x5d3112(0x132)]('LineName'),'LinePicture':sessionStorage[_0x5d3112(0x132)](_0x5d3112(0x121)),'CountIN':parseFloat(CountLogin)+0x1});}var EidKickoff='';function CheckZone(){var _0x41ef22=_0x47f8c3;dbBBDKickoff[_0x41ef22(0x115)](_0x41ef22(0x113),'==',parseFloat(sessionStorage[_0x41ef22(0x132)]('EmpID_Kickoff')))[_0x41ef22(0x12f)](0x1)[_0x41ef22(0x129)]()[_0x41ef22(0x101)](_0x54d5a0=>{var _0x4580c0=_0x41ef22;_0x54d5a0[_0x4580c0(0xf3)](_0xc6b32=>{EidKickoff=_0xc6b32['id'],UpdateZone();});});}function UpdateZone(){var _0xc0cf02=_0x47f8c3;dbBBDKickoff['doc'](EidKickoff)[_0xc0cf02(0x10a)]({'LineName':sessionStorage[_0xc0cf02(0x132)](_0xc0cf02(0x110)),'LinePicture':sessionStorage[_0xc0cf02(0x132)](_0xc0cf02(0x121))});}var EidRH='';function CheckRH(){var _0x45333c=_0x47f8c3;dbBBDRH[_0x45333c(0x115)](_0x45333c(0x113),'==',parseFloat(sessionStorage[_0x45333c(0x132)]('EmpID_Kickoff')))[_0x45333c(0x12f)](0x1)[_0x45333c(0x129)]()[_0x45333c(0x101)](_0x152f73=>{var _0x2cdcbd=_0x45333c;_0x152f73[_0x2cdcbd(0xf3)](_0x269219=>{EidRH=_0x269219['id'],UpdateRH();});});}function UpdateRH(){var _0x1a6d26=_0x47f8c3;dbBBDRH[_0x1a6d26(0x124)](EidRH)['update']({'LineName':sessionStorage[_0x1a6d26(0x132)](_0x1a6d26(0x110)),'LinePicture':sessionStorage[_0x1a6d26(0x132)]('LinePicture')});}function UpdateBBDLog(){var _0x4e043b=_0x47f8c3;NewDate();var _0x48c591=Math[_0x4e043b(0x102)](Date['now']()/0x3e8);dbBBDlog['add']({'LineID':sessionStorage[_0x4e043b(0x132)](_0x4e043b(0xfc)),'LineName':sessionStorage[_0x4e043b(0x132)](_0x4e043b(0x110)),'LinePicture':sessionStorage[_0x4e043b(0x132)](_0x4e043b(0x121)),'EmpID':sessionStorage['getItem']('EmpID_Kickoff'),'EmpName':sessionStorage['getItem'](_0x4e043b(0xec)),'ResultLogin':sResultLogin,'LogDateTime':dateString,'LogTimeStamp':_0x48c591});}function NewDate(){var _0x224c04=_0x47f8c3,_0x4dfb33=new Date(),_0x177c2f=_0x4dfb33[_0x224c04(0x118)]()+'',_0x4f5458=_0x4dfb33[_0x224c04(0xeb)]()+0x1+'',_0x4e7562=_0x4dfb33[_0x224c04(0x11a)]()+'',_0x4a076c=_0x4dfb33['getHours']()+'',_0x375afe=_0x4dfb33[_0x224c04(0x128)]()+'',_0x2918e2=_0x4dfb33['getSeconds']()+'',_0x163b13=_0x4a076c>=0xc?'PM':'AM';_0x177c2f=checkZero(_0x177c2f),_0x4f5458=checkZero(_0x4f5458),_0x4e7562=checkZero(_0x4e7562),_0x4a076c=checkZero(_0x4a076c),_0x375afe=checkZero(_0x375afe),_0x2918e2=checkZero(_0x2918e2),dateString=_0x177c2f+'/'+_0x4f5458+'/'+_0x4e7562+'\x20'+_0x4a076c+':'+_0x375afe+':'+_0x2918e2+'\x20'+_0x163b13;}function checkZero(_0x3b0980){var _0x4c2182=_0x47f8c3;return _0x3b0980[_0x4c2182(0x10e)]==0x1&&(_0x3b0980='0'+_0x3b0980),_0x3b0980;}function CloseAll(){var _0x35570e=_0x47f8c3;document[_0x35570e(0x130)](_0x35570e(0x10d))[_0x35570e(0x12d)]['display']=_0x35570e(0x107);}
